<!doctype html>
<html lang="zh-Hant-TW">
<head>
    <title>寫程式, 真有趣!</title>
    <!-- BeginHead -->
    <!-- BeginMeta -->
    <meta charset="utf-8">
    <meta name="keywords" content="Code In Fun, 寫程式真有趣, 電子商務規劃, 系統開發設計, 專案承包建置." />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Global site tag (gtag.js) - Google Analytics, http://svc.011.idv.tw, 2022-04-25, G-EMTYG9VQ8J -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-EMTYG9VQ8J"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-EMTYG9VQ8J');
    </script>
    <!-- EndMeta -->
    <!-- BeginFavicon -->
    <link href="/favicon.ico?20220622" rel="shortcut icon" type="image/x-icon" />
    <!-- EndFavicon -->
    <!-- BegigProjectCss -->
    <!-- EndProjectCssStyle -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
            integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
            crossorigin="anonymous"></script>
    <style>
        body {
            font-family: "DFKai-sb", "MingLiU", "Microsoft JhengHei";
        }

        /* Begin www011.css, Based on CodeHelper/html/Template/WebArticleBootStrapCDNContent.html 20220702 */
        a:link {
            text-decoration: none;
        }

        a:visited {
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        a:active {
            text-decoration: underline;
        }

        /* Grid style with table */
        .TableLine {
            border: 1px solid black;
            border-collapse: collapse;
        }

            .TableLine td {
                padding: 4px;
                margin: 0;
                border-width: 1px 1px 0 0;
                border-style: solid;
                border-color: black;
            }

            .TableLine th {
                border: 1px solid black;
                background-color: #FFC;
                font-weight: bold;
                padding: 4px;
            }

            .TableLine caption {
                padding-top: 3px;
                padding-bottom: 8px;
                font-weight: bold;
            }

            .TableLine tr.AltRow {
                background-color: #FFC;
            }

        /* HightLight style with table */
        .TableHighLight {
            border: 1px solid black;
            border-collapse: collapse;
        }

            .TableHighLight td {
                padding: 4px;
                margin: 0;
                border-width: 1px 1px 0 0;
                border-style: solid;
                border-color: black;
            }

            .TableHighLight th {
                border: 1px solid black;
                background-color: #FFC;
                font-weight: bold;
                padding: 4px;
            }

            .TableHighLight caption {
                padding-top: 3px;
                padding-bottom: 8px;
                font-weight: bold;
            }

            .TableHighLight tr {
                background-color: #FFC;
            }

                .TableHighLight tr.AltRow {
                    background-color: orange;
                }
        /* End www011.css */
    </style>
    <!-- EndStyle -->
    <!-- EndHead -->
</head>
<body>
    <form method="post" action="./Default" id="form1">
        <!-- BeginForm -->
        <!-- BeginTop -->
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid">
                <!-- BeginHomeLink -->
                <a class="navbar-brand" href="https://www.011.idv.tw">寫程式, 真有趣!</a>
                <!-- EndHomeLink -->
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                        data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                        aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <!-- BeginMenu -->
                        <!-- 
						<li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="/CodeHelper/default.html">CodeHelper</a>
                            <a href="/CodeHelper/">📁</a>
                        </li>
						 -->
                        <li class="nav-item">
                            <a class="nav-link" href="https://www.011.idv.tw/">⑪</a>
                        </li>
                        <!-- EndMenu -->
                    </ul>
                </div>
            </div>
        </nav>
        <!-- EndTop -->
        <!-- BeginCenter -->
        <div class="container-fluid bg-light">
            <div class="container-fluid" style="background-color: #ffffe0">
                <!-- BeginEntry -->
                <!-- BeginMessage -->
                <div class="row">
                    <div class="col">
                        From: 011netservice@gmail.com<br />
                        Date: 2022-10-09<br />
                        Subject: <a name="Subject">將 ASP.NET MVC 專案樣板, 1. 取消 ASP.NET MVC EntityFramework Code First, 2. 改成連接到 MySql 資料庫.</a><br />
                        <br />
						本文說明如何將 Visual Studio 2022 產生的 ASP.NET MVC 預設網站專案樣板, 取消 EntityFramework Code first, 並將資料庫從 SQL Server 2012? Express LocalDB 改為連接到 MySql 資料庫.<br />
						<br />
                        修改完成後的原始碼:<a href="https://www.011.idv.tw/">下載 MVC48IDMySql</a><br />
						<br />
                        歡迎來信交流, 訂購軟體需求.<br />
                        <br />
                    </div>
                </div>
                <div class="row">
                    <div class="col">
修改步驟如下.<br />
修改內容跟以前相同, 因此不再贅述, 請自行參考<a href="https://svc.011.idv.tw/CodeHelper/cs/vs2019/vs2019Practice/WebIdentity/doc/Readme-WebIdentitySqlServer.html">之前 VS2015, VS2019 改過的紀錄</a><br />
□ 下載 Visual Studio 2022 產生的 <a href="https://github.com/github-honda/VS2022Pratice/tree/main/OriginalTemplate/MVC48ID">ASP.NET MVC 網站專案 MVC48ID</a>, 或是自行以 Visual Studio 2022 建立後, 將專案名稱改為 MVC48IDMySql.<br />
<br />
□ 刪除參考:<br />
1. Remove reference Microsoft.AspNet.Identity.EntityFramework<br />
2. Remove reference EntityFramework.SqlServer<br />
3. Remove reference EntityFramework<br />
<br />
□ 加入三個專案替代 EntityFramework 及支援 MySql <br />
1. ZLib.<br />
2. ZLibMySql, 參考 ZLib.<br />
3. LibIdentityMySql, 參考 ZLibMySql 和 ZLib.<br />
以上三個專案, 可從<a href="https://www.011.idv.tw/">已實作完成的 MVC48IDMySql 中</a>取得<br />
<br />
□ 參考以上三個專案(ZLib, ZLibMySql, LibIdentityMySql).<br />
<br />
□ 修改檔案:<br />
1. App_Start\IdentityConfig.cs<br />
2. App_Start\Startup.Auth.cs<br />
3. Models\IdentityModels.cs<br />
4. Web.config 的 ConnectionString.<br />
<br />
□ 編譯後以瀏覽器測試 Register, Login 是否資料庫正確儲存資料.<br />
□ 可進入資料庫中, 刪除 AspNetUsers 已註冊的 id 資料, 就可以重新 Register 帳號.<br />

□ 補充<br />
<a href="https://svc.011.idv.tw/CodeHelper/cs/ASPNET/identity/WebAuthSQL/doc/Readme-WebAuthSQL.html">取消 EntityFramework Code first 的好處</a><br />
                    </div>
                </div>
				
                <div class="row">
                    <div class="col">
                        <h3><a name="Log">Log</a></h3>
                        Log:<br />
                        20221009, Honda, Create.<br />
                    </div>
                </div>
                <!-- EndEntryBody -->
                <!-- EndEntry -->
            </div>
        </div>
        <!-- EndCenter -->
        <!-- BeginBottom -->
        <div class="container-fluid d-flex justify-content-end">
            <div class="row">
                <div class="col">
                    開放時間 09:00 ~ 18:00&nbsp;|&nbsp;
                    <a href="https://www.011.idv.tw/User/UserInfo">你</a>&nbsp;|&nbsp;
                    <a href="https://www.011.idv.tw//Contact.aspx">✉</a>&nbsp;|&nbsp;
                    <a href="https://www.011.idv.tw/">⑪</a>&nbsp;|&nbsp;
                </div>
            </div>
        </div>
        <!-- EndBottom -->
        <!-- EndForm -->
    </form>
    <!-- BeginScript -->
    <script>
        $(document).ready(function () {
            // console.log("document loaded, DOM(Document Object Model) is ready.");
        });

        $(window).on("load", function () {
            // console.log("window loaded, All elements include images or iframes is ready.");
        });
    </script>
    <!-- EndScript -->
</body>
</html>