<!doctype html>
<html lang="zh-Hant-TW">
<head>
	<title>Code In Fun</title>
    <!-- BeginHead -->
    <!-- BeginMeta -->
    <meta charset="utf-8">
    <meta name="keywords" content="Code In Fun, 寫程式真有趣, 電子商務規劃, 系統開發設計, 專案承包建置." />
	<!-- Global site tag (gtag.js) - Google Analytics, http://svc.011.idv.tw, 2022-04-25, G-EMTYG9VQ8J -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-EMTYG9VQ8J"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'G-EMTYG9VQ8J');
	</script>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <!-- EndMeta -->
    <!-- BeginFavicon -->
    <link href="/favicon.ico?20230530" rel="shortcut icon" type="image/x-icon" />
    <!-- EndFavicon -->
    <!-- BegigProjectCss -->
    <!-- EndProjectCssStyle -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
	<style type="text/css">
		body {
			font-family: "DFKai-sb", "MingLiU", "Microsoft JhengHei";
		}
	</style>
    <!-- EndStyle -->
    <!-- EndHead -->
</head>
<body>
    <a name="0"></a>
	<!-- BeginForm -->
	<!-- BeginTop -->
	<nav class="navbar navbar-expand-lg navbar-light bg-light">
		<div class="container-fluid">
			<!-- BeginHomeLink -->
			<a class="navbar-brand" href="https://www.011.idv.tw">寫程式, 真有趣!</a>
			<!-- EndHomeLink -->
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse"
				data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav me-auto mb-2 mb-lg-0">
					<!-- BeginMenu -->
					<!-- 
						<li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="/CodeHelper/default.html">CodeHelper</a>
                            <a href="/CodeHelper/">📁</a>
                        </li>
						 -->
					<li class="nav-item">
						<a class="nav-link" href="https://www.011.idv.tw/">⑪</a>
					</li>
					<!-- EndMenu -->
				</ul>
			</div>
		</div>
	</nav>
	<!-- EndTop -->
	<!-- BeginCenter -->
	<div class="container-fluid bg-light">
		<div class="container-fluid" style="background-color: #ffffe0">
			<!-- BeginEntry -->
			<!-- BeginMessage -->
			<div class="row">
				<div class="col">
					From: 011netservice@gmail.com<br />
					Date: 2023-05-30<br />
					Subject: Template of Visual Studio 2022, ASP.NET Core Web App (Model-View-Controller), .NET 6.0 (Long Term Support), Individual Accounts, HTTPS.<br />
					<a href="https://svc.011.idv.tw/CodeHelper/cs/vs2022/VS2022Pratice/OriginalTemplate/NET60/Web/ASPNETCoreWebAppMvcIA1/doc/Readme-ASPNETCoreWebAppMvcIA1.html">本文網址</a> | 
					<a href="https://github.com/github-honda/VS2022Pratice/tree/main/OriginalTemplate/NET60/Web/ASPNETCoreWebAppMvcIA1">原始碼</a><br />
					
					<br />
					本文記錄建立  Template of Visual Studio 2022, ASP.NET Core Web App (Model-View-Controller), .NET 6.0 (Long Term Support), Individual Accounts, HTTPS.<br />
					<br />
					歡迎來信交流, 訂購軟體需求.<br />
					<br />
				</div>
			</div>
            <!-- EndMessage -->
             <!-- BeginEntryBody -->
			<div class="row">
				<div class="col">
					開啟 Visual Studio 2022, 選擇 Create a new project, ASP.NET Core Web App (Model-View-Controller)<br />
					<br />
				</div>
				<div class="col">
					<img src="010010.jpg" class="img-fluid" alt=""><br />
					<br />
				</div>
			</div>
			<div class="row">
				<div class="col">
					Project name="你的專案名稱", 本文專案名稱為 ASPNETCoreWebAppMvcIA1<br />
					<br />
				</div>
				<div class="col">
					<img src="010020.jpg" class="img-fluid" alt=""><br />
					<br />
				</div>
			</div>
			<div class="row">
				<div class="col">
					Framework=".NET 6.0 (Long Term Support)", Authentication Type="Individual Accounts", Configure for HTTPS=Checked<br />
					<br />
				</div>
				<div class="col">
					<img src="010030.jpg" class="img-fluid" alt=""><br />
					<br />
				</div>
			</div>
			<div class="row">
				<div class="col">
					建立網站後如下圖.<br />
					Identity 的 Razor Page .cshtml 網頁收藏在 Microsoft.AspNetCore.Identity.UI 中.<br />
					Areas/Identity/Pages中, 只剩下 _ViewStart.cshtml, 其餘的 Razor Page 在 ASP.NET Core 2.1 都被收藏在 Microsoft.AspNetCore.Identity.UI NuGet 中.<br />
					<br />
				</div>
				<div class="col">
					<img src="010070.jpg" class="img-fluid" alt=""><br />
					<br />
				</div>
			</div>
			<div class="row">
				<div class="col">
					執行後首頁.<br />
					<br />
				</div>
				<div class="col">
					<img src="020010.jpg" class="img-fluid" alt=""><br />
					<br />
				</div>
			</div>
			<div class="row">
				<div class="col">
					註冊使用者的頁面, 我們輸入帳號: test@test.com, 密碼: Test@Test.123註冊看看?<br />
					<br />
				</div>
				<div class="col">
					<img src="020020.jpg" class="img-fluid" alt=""><br />
					<br />
				</div>
			</div>
			<div class="row">
				<div class="col">
				    由於還沒執行 Database migrations, 所以會碰到 Cannot open database "aspnet-ASPNETCoreWebAppMvcIA1-b02ad989-b320-4e51-a5bc-70f7309ba7f0" 的錯誤畫面. <br />
					這個資料庫, 必須已經建立在 %userprofile% 中, 才能順利執行.<br />
					<br />
				</div>
				<div class="col">
					<img src="020030.jpg" class="img-fluid" alt=""><br />
					<br />
				</div>
			</div>
			<div class="row">
				<div class="col">
					畫面上提示有三種方法可以進行 Database migrations, 建立資料庫.<br />
					若直接按畫面上的 Apply Migrations, 則通常仍會出現權限不足的錯誤訊息.<br />
					這是因為必須擁有權限, 才能將資料庫建立在 %userprofile% 中.<br />
					<br />
				</div>
				<div class="col">
					<img src="020040.jpg" class="img-fluid" alt=""><br />
					<br />
				</div>
			</div>
			<div class="row">
				<div class="col">
				    在 Visual Studio 2022 Package Manager Console 中執行指令 Update-Database, 就可以擁有權限, 順利完成.<br />
				    或是在 Posershell 中執行指令 dotnet ef database update.<br />
					建立後的資料庫, 是存放在 %userprofile%\aspnet-專案名稱*.* 中.<br />
					
					<br />
				</div>
				<div class="col">
					<img src="020050.jpg" class="img-fluid" alt=""><br />
					<br />
				</div>
			</div>
			<div class="row">
				<div class="col">
					完成 Database Migrations 後, 再到註冊使用者的 Register 畫面中, 輸入帳號: test@test.com, 密碼: Test@Test.123 註冊新使用者.<br />
					若註冊成功後, 就可以看到畫面 Register confimation 畫面.<br />
					由於這只是個網站樣板, 因此確認註冊的程序, 就只是按畫面上的連結( Click here to confirm your account), 就代表確認了.<br />  
					<br />
				</div>
				<div class="col">
					<img src="020060.jpg" class="img-fluid" alt=""><br />
					<br />
				</div>
			</div>
			<div class="row">
				<div class="col">
					在 Register confirmation 畫面上, 按畫面上的連結( Click here to confirm your account)後, 出現 Confirm email 就代表使用者 test@test.com 已經註冊成功, 存入資料庫中了. <br />
					<br />
				</div>
				<div class="col">
					<img src="020070.jpg" class="img-fluid" alt=""><br />
					<br />
				</div>
			</div>
			<div class="row">
				<div class="col">
					若重新登入網站, 則可使用先前已經註冊的帳號: test@test.com, 密碼: Test@Test.123 登入.<br />
					<br />
				</div>
				<div class="col">
					<img src="020080.jpg" class="img-fluid" alt=""><br />
					<br />
				</div>
			</div>
			<div class="row">
				<div class="col">
					首頁右上方, 若已登入, 則會顯示目前登入的使用者名稱.<br />
					<br />
				</div>
				<div class="col">
					<img src="020090.jpg" class="img-fluid" alt=""><br />
					<br />
				</div>
			</div>
			<div class="row">
				<div class="col">
					首頁右上方, 若未登入, 會顯示 Register 可註冊新會員.<br />
					<br />
				</div>
				<div class="col">
					<img src="020110.jpg" class="img-fluid" alt=""><br />
					<br />
				</div>
			</div>
			<!-- EndEntryBody -->
			<!-- EndEntry -->
		</div>
	</div>
	<!-- EndCenter -->
	<!-- BeginBottom -->
	<div class="container-fluid d-flex justify-content-end">
		<div class="row">
			<div class="col">
				開放時間 09:00 ~ 18:00&nbsp;|&nbsp;
				<a href="https://www.011.idv.tw/User/UserInfo">🛈</a>&nbsp;|&nbsp;
				<a href="https://www.011.idv.tw//Contact.aspx">✉</a>&nbsp;|&nbsp;
				<a href="https://www.011.idv.tw/">⑪</a>&nbsp;|&nbsp;
			</div>
		</div>
	</div>
	<!-- EndBottom -->
	<!-- EndForm -->
    <a name="z"></a>
    <!-- BeginScript -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <script>
        $(document).ready(function () {
            // console.log("document loaded, DOM(Document Object Model) is ready.");
        });

        $(window).on("load", function () {
            // console.log("window loaded, All elements include images or iframes is ready.");
        });
    </script>
    <!-- EndScript -->
</body>
</html>